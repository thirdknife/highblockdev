{"componentChunkName":"component---src-pages-prismic-pages-uid-js","path":"/write-obs-plugin-go-lang/","result":{"data":{"prismicPages":{"data":{"title":{"richText":[{"type":"heading1","text":"Writing OBS plugin in Go","spans":[]}]},"body":{"richText":[{"type":"paragraph","text":"I utilize OBS for my podcasts, and I find it to be an exceptional software tool. Currently, I'm in the process of developing a plugin, and I'm considering using Go, given its compatibility with writing C code through cgo.","spans":[]},{"type":"paragraph","text":"While cgo provides its own cross-platform compilation, I successfully managed to compile it on Windows using gcc. Here are the steps to follow:","spans":[]},{"type":"paragraph","text":"1. Begin by cloning OBS under a specific folder using the command `git submodule add https://github.com/obsproject/obs-studio/ thirdparty/obs`. You can also include this in your `.gitmodules` file so that it's cloned alongside your main project.","spans":[]},{"type":"paragraph","text":"```","spans":[]},{"type":"paragraph","text":"[submodule \"thirdparty/obs\"]","spans":[]},{"type":"paragraph","text":"path = thirdparty/obs","spans":[]},{"type":"paragraph","text":"url = https://github.com/obsproject/obs-studio/","spans":[]},{"type":"paragraph","text":"branch = 29.1.3","spans":[]},{"type":"paragraph","text":"```","spans":[]},{"type":"paragraph","text":"2. In your `main.go` file, include the following at the top:","spans":[]},{"type":"paragraph","text":"```","spans":[]},{"type":"paragraph","text":"// #cgo CFLAGS: -Ithirdparty/obs/libobs","spans":[]},{"type":"paragraph","text":"// #cgo darwin LDFLAGS: -L. -lobs.0","spans":[]},{"type":"paragraph","text":"// #cgo linux LDFLAGS: -L. -lobs","spans":[]},{"type":"paragraph","text":"// #cgo windows LDFLAGS: -L. -lobs","spans":[]},{"type":"paragraph","text":"// #include <obs-module.h>","spans":[]},{"type":"paragraph","text":"```","spans":[]},{"type":"paragraph","text":"3. Remember to copy `obs.dll` from the OBS installation folder and place it beside your Go file.","spans":[]},{"type":"paragraph","text":"4. Install gcc for Windows from [https://jmeubank.github.io/tdm-gcc/](https://jmeubank.github.io/tdm-gcc/). In my experience, this version works best.","spans":[]},{"type":"paragraph","text":"5. Finally, you can compile your Go file using the command `go build -buildmode=c-shared -o goplugin.dll`.","spans":[]},{"type":"paragraph","text":"If you find this information helpful or have any questions, feel free to follow me at [http://x.com/thirdknife](http://x.com/thirdknife).","spans":[]},{"type":"paragraph","text":"---","spans":[]},{"type":"paragraph","text":"This version provides clearer instructions and organizes the steps for better readability. If you have any further requests or need additional improvements, feel free to let me know!","spans":[]}]}}}},"pageContext":{"id":"ea992c9c-5ccc-57ff-9711-430c3177a80b","uid":"write-obs-plugin-go-lang","__params":{"uid":"write-obs-plugin-go-lang"}}},"staticQueryHashes":["1947816842","63159454"]}